<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>商品详情</title>
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/b-commodityDetails.css">
    <link rel="stylesheet" href="../css/a_goods.css">
    <link rel="stylesheet" href="../css/font/iconfont.css">
</head>

<body>
    <div id="head" class="clearfix"></div>
    <div class='main'>
        您的当前位置：
        <a href="#">首页</a>
        >
        <a href="#">女鞋</a>
        >
        <a href="#">女士单鞋</a>
        >
        <a href="#">浅口鞋</a>
        >
    </div>
    <div class='good'>
        <div class='goodImg'>
            <div class='goodImg-left'>
                <ul class="list">
                    <li class="item"><img src=""></li>
                    <li class="item"><img></li>
                    <li class="item"><img></li>
                    <li class="item"><img></li>
                    <li class="item"><img></li>
                    <li class="item"><img></li>
                    <li class="item"><img></li>
                </ul>
            </div>
            <div class='goodImg-right'>
                <img src="">
                <div class="mask"></div>
            </div>

        </div>
        <div class='shopping-conttainer'>
            <div class='right'>
                <img src="" alt="">
            </div>
            <div class='brand-logo'>
                <a href="#"><img src="../img/ia_100000079.png"></a>
            </div>
            <h1 class="title">Joy&Peace/真美诗2019秋季专柜同款小香风猫跟女单鞋YPQ72CQ9</h1>
            <div class='shopping-price'>
                <span>￥<i font-size:40px class="price">778</i></span>
                <del>￥1,098</del>
            </div>
            <div class='shopping-box'></div>
            <div class='buy'>
                <div class='color'>
                    <p class='attrib'>
                        <span>颜色：</span>
                        <span>
                            <a class='abc'><img src="../img/ia_100000013.jpg" class="color1"></a>
                            <a class='abc'><img src="../img/ia_100000014.jpg" class="color2"></a>
                        </span>
                    </p>
                </div>
                <div class='size'>
                    <p>
                        <span>尺码：</span>
                        <span class='prodSpec' id='oneAll'>
                            <a class='ab'>33</a>
                            <a class="ab">34</a>
                            <a class="ab">35</a>
                            <a class="ab">36</a>
                            <a class="ab">37</a>
                            <a class="ab">38</a>
                            <a class="ab">39</a>
                            <a class="ab">40</a>
                        </span>
                        <!-- <span class='size-contrast'>
                            <a href="#">
                                查看尺码表>>
                            </a>
                        </span> -->
                    </p>
                </div>
                <div class='count-clearfixed'>
                    <span>数量：</span>
                    <div class='input-content'>
                        <input type="hidden" name='oldNum' class='oldNum'>
                        <input type="text" value="1">
                        <div class='dianji'>
                            <ul>
                                <li><img class="up" src="../img/di-4.png"></li>
                                <li><img class="down" src="../img/di-5.png" alt=""></li>
                            </ul>
                        </div>

                    </div>
                    <div class="buttons">
                        <a href="javascript:;" id="bot_plus" class="plus">
                            <icon class="icon up"></icon>
                        </a>
                        <a href="javascript:;" id="bot_subtract" class="subtract">
                            <icon class="icon down"></icon>
                        </a>
                    </div>
                </div>
                <div class='qbuy'>
                    <ul>
                        <li><a class='yg-button-buy'>加入购物袋</a></li>
                        <li><a class='yg-button-active'>立即购买</a></li>
                    </ul>
                </div>

            </div>
            <!-- <div class="share">
                <div class="share_goods_new">
                    <span class="good_sc">
                        <a><img src='../img/di-6.png'>收藏</a>
                    </span>
                    <div class="bdshare_t bds_tools">
                        <a href="#" class="bds_more"><img src='../img/di-7.png'>分享</a>
                    </div>

                </div>
            </div> -->
            <div class='share-1'>
                <img src="../img/ia_100000085.jpg">
                <span>扫一扫加入购物袋</span>
            </div>
        </div>
    </div>
    </div>
    <!-- 商品介绍tab开始 -->
    <div class="product-info-wrapper">
        <div class="info-title">
            商品信息
        </div>
        <div class="content">
            <table class="spec-table">
                <tbody>
                    <tr align="left">
                        <td width="20%" title="鞋底材质：橡胶底">鞋底材质：橡胶底</td>
                        <td width="20%" title="面料图案：纯色">面料图案：纯色</td>
                        <td width="20%" title="内增高：无">内增高：无</td>
                        <td width="20%" title="鞋跟形状：细跟">鞋跟形状：细跟</td>
                        <td width="20%" title="鞋面材质：布面">鞋面材质：布面</td>
                    </tr>
                    <tr align="left">
                        <td width="20%" title="流行元素：条纹撞色">流行元素：条纹撞色</td>
                        <td width="20%" title="36码鞋长参考(女)：23CM">36码鞋长参考(女)：23CM</td>
                        <td width="20%" title="36码鞋宽参考(女)：7.5CM">36码鞋宽参考(女)：7.5CM</td>
                        <td width="20%" title="闭合方式：套脚">闭合方式：套脚</td>
                        <td width="20%" title="风格：甜美">风格：甜美</td>
                    </tr>
                    <tr align="left">
                        <td width="20%" title="色系：黑色">色系：黑色</td>
                        <td width="20%" title="鞋跟：3.5CM">鞋跟：3.5CM</td>
                        <td width="20%" title="鞋头：尖头">鞋头：尖头</td>
                        <td width="20%" title="颜色：黑色">颜色：黑色</td>
                        <td width="20%" title="配跟：无">配跟：无</td>
                    </tr>
                    <tr align="left">
                        <td width="20%" title="性别：女子">性别：女子</td>
                        <td width="20%" title="里料材质：羊皮革">里料材质：羊皮革</td>
                        <td width="20%" title="制作工艺：胶贴皮鞋">制作工艺：胶贴皮鞋</td>
                        <td width="20%" title="季节：秋季">季节：秋季</td>
                        <td width="20%" title="鞋垫材质：头层羊皮革">鞋垫材质：头层羊皮革</td>
                    </tr>
                    <tr align="left">
                        <td width="20%" title="皮质特征：织物">皮质特征：织物</td>
                        <td width="20%" title="前掌高度：无">前掌高度：无</td>
                        <td width="20%" title="款式：浅口鞋">款式：浅口鞋</td>
                        <td width="20%" title="防水台高度：无">防水台高度：无</td>
                        <td>&nbsp;</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- 尺码开始 -->
    <div class="size-wrapper">
        <div class="size-title">
            尺码信息
        </div>
        <div class="content">
            <table class="spec-table">
                <tbody>
                    <tr>
                        <td>法国码</td>
                        <td>32</td>
                        <td>33</td>
                        <td>34</td>
                        <td>35</td>
                        <td>36</td>
                        <td>37</td>
                        <td>38</td>
                        <td>39</td>
                        <td>40</td>
                        <td>41</td>
                        <td>42</td>
                    </tr>
                    <tr class="odd">
                        <td>国际码</td>
                        <td>210</td>
                        <td>215</td>
                        <td>220</td>
                        <td>225</td>
                        <td>230</td>
                        <td>235</td>
                        <td>240</td>
                        <td>245</td>
                        <td>250</td>
                        <td>255</td>
                        <td>260</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <!-- 尺码结束 -->
    <div class="desc-wrapper">
        <div class="desc-title">
            商品详情
        </div>
        <div id="contentDetail">
            <p>&nbsp;</p>
            <p align="center">
                <img class="lazyloadimg" border="0" src='../img/ia_100000015.jpg'>
                <img class="lazyloadimg" border="0" src="../img/ia_100000016.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000017.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000018.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000019.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000020.jpg">
                <img class='lazyloadimg' border="0" src="../img/ia_100000021.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000022.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000023.jpg">
                <img class="lazyloadimg" border="0" src='../img/ia_100000024.jpg'>
                <img class="lazyloadimg" border="0" src="../img/ia_100000025.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000026.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000027.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000028.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000029.jpg">
                <img class="lazyloadimg" border="0" src="../img/ia_100000030.jpg">
            </p>
        </div>
        <div class="brand-brief">
            <!-- 品牌介绍start -->
            <p><img src="../img/ia_100000031.jpg" style="width: 990.182px; height: 350px;"></p>
            <p>JOY &amp; PEACE（真美诗），品牌于1995年成立于香港，隶属于百丽国际集团，23年以来一直是大中华地区欧洲女鞋的代表品牌。JOY &amp;
                PEACE致力于将源自意大利的制鞋工艺与时尚设计服务于每位女性。目前JOY &amp; PEACE开设线下门店达400多家，覆盖香港、澳门、中国大陆及马来西亚等100多个城市。<br></p>
            <!-- 品牌介绍end -->
        </div>
    </div>
    <div class="foot"></div>
</body>
<script src="http://libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>
<!-- <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script> -->
<script type="text/javascript">
    $('.head').load('head.html');
</script>
<script type="text/javascript">
    $('.foot').load('foot.html');
</script>
<script src="../js/showImg.js"></script>
<script
    src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/jquery/jquery-1.10.2.min_65682a2.js"></script>
<script>
    $('.ab').bind("click", function () {
        $('a').removeClass('one')
        $(this).addClass('one')
    })

    // $('.abc').bind("click", function () {

    //     $('a').removeClass('two')
    //     $(this).addClass('two')
    // })
    var oCheckAll = document.getElementById('oneAll');
    var oCheckOne = document.getElementsByClassName('one');
    oCheckOne.onclick = function () {
        $('a').removeClass('one')
        $(this).addClass('one')
        for (var i = 0; i < oCheckOne.length; i++) {
            oCheckOne[i].style.backgroundColor = ' #ccc';
        }

    }
    var mask = document.querySelector('.mask');
    var right = document.querySelector('.right');
    var left = document.querySelector('.goodImg-right');

    var maxImg = right.querySelector('img');

    left.onmouseenter = function () {
        mask.style.display = 'block';
        right.style.display = 'block';
    }
    left.onmouseleave = function () {
        mask.style.display = 'none';
        right.style.display = 'none';
    }
    left.onmousemove = function (ev) {
        var e = ev || window.event;
        var maskL = e.pageX - offset(left).left - mask.clientWidth / 2;//蒙版的left值
        var maskT = e.pageY - offset(left).top - mask.clientHeight / 2;//蒙版的top值

        // 边界值判断
        if (maskL <= 0) {//最小值
            maskL = 0;
        }
        if (maskL >= left.clientWidth - mask.clientWidth) {// 最大值
            maskL = left.clientWidth - mask.clientWidth;
        }
        if (maskT <= 0) {//最小值
            maskT = 0;
        }
        if (maskT >= left.clientHeight - mask.clientHeight) {// 最大值
            maskT = left.clientHeight - mask.clientHeight;
        }
        mask.style.left = maskL + 'px';
        mask.style.top = maskT + 'px';

        // 移动大图(和mask移动方向相反)
        var scaleX = maskL / (left.clientWidth - mask.clientWidth);
        var scaleY = maskT / (left.clientHeight - mask.clientHeight);

        var imgL = scaleX * (maxImg.clientWidth - right.clientWidth);
        var imgT = scaleY * (maxImg.clientHeight - right.clientHeight);
        maxImg.style.left = -imgL + 'px';
        maxImg.style.top = -imgT + 'px';
    }

    // 封装获取元素到body的距离
    function offset(dom) {
        var l = 0;
        var t = 0;
        var bdl = dom.clientLeft;//元素的左边框
        var bdt = dom.clientTop;//元素的上边框
        while (dom) {
            l = l + dom.offsetLeft + dom.clientLeft;
            t = t + dom.offsetTop + dom.clientTop;
            dom = dom.offsetParent;
        }
        return {
            left: l - bdl,
            top: t - bdt
        };
    }

    var getData = [];
    $.ajax({
        url: "../JSON/shopDatas.json",
        type: "get",
        dataType: 'json',
        cache: false,
        success: function (data) {
            for (var item of data) {
                if (item["shopCode"] == localStorage.getItem("shopCode")) {
                    console.log(item)
                    getData.push(item);
                }
            }
            fun(getData, 0)
        }
    })

    var fun;
    fun = function (data, q) {
        console.log(data);
        for (var j = 0; j < $('.list .item img').length; j++) {
            $('.list .item img').eq(j).attr({ 'src': getData[q].shopTUrl[j], "middle": getData[q].shopMUrl[j], "large": getData[q].shopLUrl[j] })
        }
        $('.brand-logo a img').eq(0).attr('src', getData[q].shopLogo)
        $('.shopping-price span .price').text(getData[q].shopPrice)
        $('.shopping-price del').text(getData[q].originPrice)

        console.log(getData[q].shopMUrl);

        $('.goodImg-right img').eq(0).attr('src', getData[q].shopMUrl[0])
    }

    $('.attrib span a img').bind("click", function () {
        console.log($(this).attr('class'));
        if ($(this).attr('class') == 'color1') {
            fun(getData, 0)
        } else if ($(this).attr('class') == 'color2') {
            fun(getData, 1)
        }
    })


    $('.item').on('mouseenter', function () {
        $('.goodImg-right img').eq(0).attr('src', $(this).children().attr("middle"))
        // console.log($(this).children().attr("large"));
        $('.shopping-conttainer .right img').eq(0).attr('src', $(this).children().attr("large"))
    })

    $('.up').click(function () {
        var inpval = $('.input-content>input').eq(1).val();
        inpval++;
        $('.input-content>input').eq(1).val(inpval);
    })

    $('.down').click(function () {
        if ($('.input-content>input').eq(1).val() > 0) {
            var inpval = $('.input-content>input').eq(1).val();
            inpval--;
            $('.input-content>input').eq(1).val(inpval);
        }
    })

    localStorage.setItem("shops", `[{"url":"../img/101001660_01_t.jpg","descrip":"Joy&Peace/真美诗2018冬季新款羊绒皮尖头粗跟短筒女皮靴YPK28DD8","color":"黑色","size":"34","price":"678","count":"2"},{"url":"../img/101001660_01_t.jpg","descrip":"Joy&Peace/真美诗2018冬季新款羊绒皮尖头粗跟短筒女皮靴YPK28DD8","color":"黑色","size":"34","price":"678","count":"2"}]`)
</script>

</html>